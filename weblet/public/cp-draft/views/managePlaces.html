<div class="container" ng-show="!editedPlace">

  <div class="btn-group">
    <button class="btn btn-primary" ng-click="showAddPlaceFragment()"><i class="fa fa-cube fa-fw"></i> Add new</button>
    <button class="btn" ng-click="loadPlaces(true)"><i class="fa fa-refresh fa-fw {{loadPlacesSpin ? 'fa-spin' : ''}}"></i> Refresh</button>
  </div>

  <table class="table table-striped table-hover">
    <thead>
    <tr>
      <th>Name</th>
      <th></th>
    </tr>
    </thead>
    <tbody>

    <tr ng-repeat="place in managedPlaces">
      <td>{{place.name}}</td>
      <td><a href data-toggle="tooltip" title="Click to edit the place" ng-click="showEditPlaceFragment(place.id)"><i class="fa fa-pencil"></i></a></td>
    </tr>

    </tbody>
  </table>

</div>

<!-- Add place dialog -->
<div class="modal fade" id="manage-places-add-dialog" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Add a New Place</h4>
      </div>

      <div class="modal-body">
        <form class="form-horizontal">
          <fieldset>
            <div class="form-group">
              <label class="control-label col-sm-2">Name</label>
              <div class="col-sm-10">
                <input class="form-control" type="text" ng-model="newPlace.name" />
              </div>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-2">Root spaces</label>
              <div class="col-sm-10">
                <input class="form-control" type="number" ng-model="newPlace.template.rootSpaces" />
              </div>
            </div>
            <div class="form-group">
              <label class="control-label col-sm-2">Sub-spaces</label>
              <div class="col-sm-10">
                <input class="form-control" type="number" ng-model="newPlace.template.innerSpaces" />
              </div>
            </div>
          </fieldset>
        </form>
      </div>

      <div class="modal-footer">
        <button class="btn btn-success" data-dismiss="modal" ng-click="submitNewPlace()"><i class="fa fa-check fa-fw"></i> Submit</button>
        <button class="btn" data-dismiss="modal"><i class="fa fa-ban fa-fw"></i> Close</button>
      </div>

    </div>
  </div>
</div>

<div id="manage-places-edit-place" class="container" ng-show="editedPlace">

  <div class="btn-group">
    <button class="btn" ng-click="showManagePlacesFragment()"><i class="fa fa-long-arrow-left fa-fw"></i> Go back</button>
    <button class="btn" ng-click="refreshEditedPlace()"><i class="fa fa-refresh fa-fw {{refreshEditedPlaceSpin ? 'fa-spin' : ''}}"></i> Refresh</button>
  </div>

  <place-properties-collapse trigger="editedPlace" place="editedPlace.source" />

  <spaces-manager-collapse trigger="editedPlace" place="editedPlace.source" listener="spaceManagerListener" />

  <slots-manager space="selectedSpace" />

  <place-moderators-collapse trigger="editedPlace" place="editedPlace.source" />

</div>

